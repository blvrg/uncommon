<!DOCTYPE html>
<html>
<head>
    <title>Uncommon Sats</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap');
      body {text-align:center; font-family: 'Major Mono Display', monospace}
      a:href, a:visited {color:black; text-decoration:none}   
      a:hover, a:active {text-decoration:underline}      
      .card {display:inline-block; text-align:left}
      pre {font-family: 'Major Mono Display', monospace}
    </style>
</head>
<body>
    <h1><a href="mint">UNCOMMON SATS</a></h1>
    <div id="grid"></div>
    <div id="loader">Loading...</div>
<script>
let offset = 0;
let index = 1;
const limit = 60;

const fetchData = () => {
    let loader = document.getElementById('loader');
    fetch(`https://api.hiro.so/ordinals/v1/inscriptions?rarity=uncommon&order=asc&limit=${limit}&offset=${offset}`)
    .then(response => response.json())
    .then(data => {
        offset += limit;
        const grid = document.getElementById('grid');
        data.results.sort((a, b) => a.number - b.number).forEach((i) => {
            let a = document.createElement('a');
            a.className = 'card card-body';
            a.href = `https://ordinals.com/inscription/${i.id}`;
            a.target = "_blank";
            a.style.textDecoration = 'none';
            a.style.color = 'inherit';
            a.innerHTML = `<pre class="card-text">${index++}. ${JSON.stringify(i, null, 2)}</pre>`;
            grid.appendChild(a);
        });

        // Check if there are more results to load
        if (offset < data.total) {
            fetchData();
        } else {
            loader.style.display = 'none';
        }
    });
};

// Initial fetch
fetchData();
</script>
</body>
</html>
